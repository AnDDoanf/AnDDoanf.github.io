{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 34, "column": 0}, "map": {"version":3,"sources":["file:///C:/code/AnDDoanf/anddoanf/app/utils/getPoemMetadata.js"],"sourcesContent":["import fs from \"fs\";\r\nimport matter from \"gray-matter\";\r\n\r\nfunction extractExcerpt(content, maxWords = 12) {\r\n    const text = content\r\n        .replace(/[#>*_`]/g, \"\")\r\n        .replace(/\\n+/g, \" \")\r\n        .trim();\r\n\r\n    return text.split(\" \").slice(0, maxWords).join(\" \");\r\n}\r\n\r\nexport default function getPoemMetadata(basePath) {\r\n    const files = fs.readdirSync(basePath).filter(f => f.endsWith(\".md\"));\r\n    const now = new Date();\r\n\r\n    const poems = files\r\n        .map((filename) => {\r\n        const file = fs.readFileSync(`${basePath}/${filename}`, \"utf8\");\r\n        const { data, content } = matter(file);\r\n        const poemDate = data.date ? new Date(data.date) : null;\r\n        console.log('showing time: ' + (poemDate));\r\n        return {\r\n            title: data.title,\r\n            date: poemDate,\r\n            slug: filename.replace(\".md\", \"\"),\r\n            excerpt: extractExcerpt(content),\r\n        };\r\n        })\r\n        .filter((poem) => {\r\n            if (!poem.date) return true; \r\n            return poem.date <= now;\r\n        })\r\n        .sort((a, b) => {\r\n            if (!a.date || !b.date) return 0;\r\n            return b.date - a.date;\r\n        })\r\n        .map((poem) => ({\r\n            ...poem,\r\n            date: poem.date\r\n                ? poem.date.toISOString().split(\"T\")[0]\r\n                : \"No Date Added\",\r\n        }));\r\n    return poems;\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEA,SAAS,eAAe,OAAO,EAAE,WAAW,EAAE;IAC1C,MAAM,OAAO,QACR,OAAO,CAAC,YAAY,IACpB,OAAO,CAAC,QAAQ,KAChB,IAAI;IAET,OAAO,KAAK,KAAK,CAAC,KAAK,KAAK,CAAC,GAAG,UAAU,IAAI,CAAC;AACnD;AAEe,SAAS,gBAAgB,QAAQ;IAC5C,MAAM,QAAQ,wGAAE,CAAC,WAAW,CAAC,UAAU,MAAM,CAAC,CAAA,IAAK,EAAE,QAAQ,CAAC;IAC9D,MAAM,MAAM,IAAI;IAEhB,MAAM,QAAQ,MACT,GAAG,CAAC,CAAC;QACN,MAAM,OAAO,wGAAE,CAAC,YAAY,CAAC,GAAG,SAAS,CAAC,EAAE,UAAU,EAAE;QACxD,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,GAAG,IAAA,kJAAM,EAAC;QACjC,MAAM,WAAW,KAAK,IAAI,GAAG,IAAI,KAAK,KAAK,IAAI,IAAI;QACnD,QAAQ,GAAG,CAAC,mBAAoB;QAChC,OAAO;YACH,OAAO,KAAK,KAAK;YACjB,MAAM;YACN,MAAM,SAAS,OAAO,CAAC,OAAO;YAC9B,SAAS,eAAe;QAC5B;IACA,GACC,MAAM,CAAC,CAAC;QACL,IAAI,CAAC,KAAK,IAAI,EAAE,OAAO;QACvB,OAAO,KAAK,IAAI,IAAI;IACxB,GACC,IAAI,CAAC,CAAC,GAAG;QACN,IAAI,CAAC,EAAE,IAAI,IAAI,CAAC,EAAE,IAAI,EAAE,OAAO;QAC/B,OAAO,EAAE,IAAI,GAAG,EAAE,IAAI;IAC1B,GACC,GAAG,CAAC,CAAC,OAAS,CAAC;YACZ,GAAG,IAAI;YACP,MAAM,KAAK,IAAI,GACT,KAAK,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE,GACrC;QACV,CAAC;IACL,OAAO;AACX"}},
    {"offset": {"line": 76, "column": 0}, "map": {"version":3,"sources":["file:///C:/code/AnDDoanf/anddoanf/app/%28with-nav%29/poetry/page.jsx"],"sourcesContent":["import Link from \"next/link\";\r\nimport getPoemMetadata from \"@/app/utils/getPoemMetadata\";\r\n\r\nexport const metadata = {\r\n  title: \"Poems\",\r\n};\r\n\r\nexport default function PoetryPage() {\r\n    const poems = getPoemMetadata(\"data/poems\");\r\n    console.log(poems);\r\n    return (\r\n        <section className=\"blog-post-container\">\r\n            <h1>Poems</h1>\r\n\r\n            <div className=\"post-grid\">\r\n                {poems.map((poem) => (\r\n                <article key={poem.slug} className=\"card\">\r\n                    <Link href={`/poetry/${poem.slug}`}>\r\n                        <h2 className=\"card-title\">{poem.title}</h2>\r\n                    </Link>\r\n\r\n                    {poem.date && (\r\n                    <p className=\"card-date\">{poem.date}</p>\r\n                    )}\r\n\r\n                    <p className=\"excerpt\">\r\n                    {poem.excerpt}â€¦\r\n                    </p>\r\n                </article>\r\n                ))}\r\n            </div>\r\n        </section>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;;;;AAEO,MAAM,WAAW;IACtB,OAAO;AACT;AAEe,SAAS;IACpB,MAAM,QAAQ,IAAA,0IAAe,EAAC;IAC9B,QAAQ,GAAG,CAAC;IACZ,qBACI,8OAAC;QAAQ,WAAU;;0BACf,8OAAC;0BAAG;;;;;;0BAEJ,8OAAC;gBAAI,WAAU;0BACV,MAAM,GAAG,CAAC,CAAC,qBACZ,8OAAC;wBAAwB,WAAU;;0CAC/B,8OAAC,0LAAI;gCAAC,MAAM,CAAC,QAAQ,EAAE,KAAK,IAAI,EAAE;0CAC9B,cAAA,8OAAC;oCAAG,WAAU;8CAAc,KAAK,KAAK;;;;;;;;;;;4BAGzC,KAAK,IAAI,kBACV,8OAAC;gCAAE,WAAU;0CAAa,KAAK,IAAI;;;;;;0CAGnC,8OAAC;gCAAE,WAAU;;oCACZ,KAAK,OAAO;oCAAC;;;;;;;;uBAVJ,KAAK,IAAI;;;;;;;;;;;;;;;;AAiBvC"}}]
}