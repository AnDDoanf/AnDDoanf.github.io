{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 34, "column": 0}, "map": {"version":3,"sources":["file:///C:/code/AnDDoanf/anddoanf/app/utils/getPostMetadata.js"],"sourcesContent":["import fs from \"fs\";\r\nimport matter from \"gray-matter\";\r\n\r\nfunction getExcerpt(markdown, maxLines = 2, maxWords = 20) { \r\n    let excerpt = markdown\r\n        .split(\"\\n\")\r\n        .map(line => line.trim())\r\n        .filter(line =>\r\n        line &&\r\n        !line.startsWith(\"#\") &&     // skip headings\r\n        !line.startsWith(\">\") &&     // skip blockquotes\r\n        !line.startsWith(\"```\")      // skip code blocks\r\n        )\r\n        .slice(0, maxLines)\r\n        .join(\" \")\r\n        .replace(/!\\[.*?\\]\\(.*?\\)/g, \"\") // remove images\r\n        .replace(/\\[([^\\]]+)\\]\\([^)]+\\)/g, \"$1\") // links â†’ text\r\n        .replace(/[`*_>#]/g, \"\") // basic markdown cleanup\r\n        .trim();\r\n    if (excerpt.split(\" \").length > maxWords) {\r\n        excerpt = excerpt.split(\" \").slice(0, maxWords).join(\" \") + \"...\";\r\n    }\r\n    \r\n    return excerpt\r\n}\r\n\r\n\r\nexport default function getPostMetadata(basePath) {\r\n    const folder = basePath + \"/\";\r\n    const files = fs.readdirSync(folder);\r\n    const markdownPosts = files.filter((file) => file.endsWith(\".md\"));\r\n\r\n    const now = new Date();\r\n\r\n    const posts = markdownPosts\r\n        .map((filename) => {\r\n            const fileContents = fs.readFileSync(`${basePath}/${filename}`, \"utf8\");\r\n            const {data, content} = matter(fileContents);\r\n\r\n            const rawDate = data.date;\r\n            const postDate = rawDate ? new Date(rawDate) : null;\r\n            return {\r\n                title: data.title,\r\n                date: postDate,\r\n                categories: data.categories || [],\r\n                tags: data.tags || [],\r\n                slug: filename.replace(\".md\", \"\"),\r\n                excerpt: getExcerpt(content, 1) || \"No excerpt available\",\r\n            };\r\n        })\r\n\r\n        .filter((post) => {\r\n            if (!post.date) return true; \r\n            return post.date <= now;\r\n        })\r\n        // optional: sort newest first\r\n        .sort((a, b) => {\r\n            if (!a.date || !b.date) return 0;\r\n            return b.date - a.date;\r\n        })\r\n        // format date for output\r\n        .map((post) => ({\r\n            ...post,\r\n            date: post.date\r\n                ? post.date.toISOString().split(\"T\")[0]\r\n                : \"No Date Added\",\r\n        }));\r\n\r\n    return posts;\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEA,SAAS,WAAW,QAAQ,EAAE,WAAW,CAAC,EAAE,WAAW,EAAE;IACrD,IAAI,UAAU,SACT,KAAK,CAAC,MACN,GAAG,CAAC,CAAA,OAAQ,KAAK,IAAI,IACrB,MAAM,CAAC,CAAA,OACR,QACA,CAAC,KAAK,UAAU,CAAC,QAAY,gBAAgB;QAC7C,CAAC,KAAK,UAAU,CAAC,QAAY,mBAAmB;QAChD,CAAC,KAAK,UAAU,CAAC,OAAY,mBAAmB;MAE/C,KAAK,CAAC,GAAG,UACT,IAAI,CAAC,KACL,OAAO,CAAC,oBAAoB,IAAI,gBAAgB;KAChD,OAAO,CAAC,0BAA0B,MAAM,eAAe;KACvD,OAAO,CAAC,YAAY,IAAI,yBAAyB;KACjD,IAAI;IACT,IAAI,QAAQ,KAAK,CAAC,KAAK,MAAM,GAAG,UAAU;QACtC,UAAU,QAAQ,KAAK,CAAC,KAAK,KAAK,CAAC,GAAG,UAAU,IAAI,CAAC,OAAO;IAChE;IAEA,OAAO;AACX;AAGe,SAAS,gBAAgB,QAAQ;IAC5C,MAAM,SAAS,WAAW;IAC1B,MAAM,QAAQ,wGAAE,CAAC,WAAW,CAAC;IAC7B,MAAM,gBAAgB,MAAM,MAAM,CAAC,CAAC,OAAS,KAAK,QAAQ,CAAC;IAE3D,MAAM,MAAM,IAAI;IAEhB,MAAM,QAAQ,cACT,GAAG,CAAC,CAAC;QACF,MAAM,eAAe,wGAAE,CAAC,YAAY,CAAC,GAAG,SAAS,CAAC,EAAE,UAAU,EAAE;QAChE,MAAM,EAAC,IAAI,EAAE,OAAO,EAAC,GAAG,IAAA,kJAAM,EAAC;QAE/B,MAAM,UAAU,KAAK,IAAI;QACzB,MAAM,WAAW,UAAU,IAAI,KAAK,WAAW;QAC/C,OAAO;YACH,OAAO,KAAK,KAAK;YACjB,MAAM;YACN,YAAY,KAAK,UAAU,IAAI,EAAE;YACjC,MAAM,KAAK,IAAI,IAAI,EAAE;YACrB,MAAM,SAAS,OAAO,CAAC,OAAO;YAC9B,SAAS,WAAW,SAAS,MAAM;QACvC;IACJ,GAEC,MAAM,CAAC,CAAC;QACL,IAAI,CAAC,KAAK,IAAI,EAAE,OAAO;QACvB,OAAO,KAAK,IAAI,IAAI;IACxB,EACA,8BAA8B;KAC7B,IAAI,CAAC,CAAC,GAAG;QACN,IAAI,CAAC,EAAE,IAAI,IAAI,CAAC,EAAE,IAAI,EAAE,OAAO;QAC/B,OAAO,EAAE,IAAI,GAAG,EAAE,IAAI;IAC1B,EACA,yBAAyB;KACxB,GAAG,CAAC,CAAC,OAAS,CAAC;YACZ,GAAG,IAAI;YACP,MAAM,KAAK,IAAI,GACT,KAAK,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE,GACrC;QACV,CAAC;IAEL,OAAO;AACX"}},
    {"offset": {"line": 91, "column": 0}, "map": {"version":3,"sources":["file:///C:/code/AnDDoanf/anddoanf/components/blog/BlogPostCard.jsx"],"sourcesContent":["import Link from \"next/link\";\r\n\r\nexport default function BlogPostCard({ post }) {\r\n  console.log(post.exerpt);\r\n  return (\r\n    <Link\r\n      href={`/blog/${post.slug ?? \"\"}`}\r\n      className=\"card\"\r\n    >\r\n      <h2 className=\"card-title\">\r\n        {post.title}\r\n      </h2>\r\n\r\n      <p className=\"card-date\">\r\n        {post.date}\r\n      </p>\r\n      <p className=\"card-excerpt\">\r\n        {post.excerpt} \r\n      </p>\r\n    </Link>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;;;AAEe,SAAS,aAAa,EAAE,IAAI,EAAE;IAC3C,QAAQ,GAAG,CAAC,KAAK,MAAM;IACvB,qBACE,8OAAC,0LAAI;QACH,MAAM,CAAC,MAAM,EAAE,KAAK,IAAI,IAAI,IAAI;QAChC,WAAU;;0BAEV,8OAAC;gBAAG,WAAU;0BACX,KAAK,KAAK;;;;;;0BAGb,8OAAC;gBAAE,WAAU;0BACV,KAAK,IAAI;;;;;;0BAEZ,8OAAC;gBAAE,WAAU;0BACV,KAAK,OAAO;;;;;;;;;;;;AAIrB"}},
    {"offset": {"line": 140, "column": 0}, "map": {"version":3,"sources":["file:///C:/code/AnDDoanf/anddoanf/app/%28with-nav%29/blog/page.jsx"],"sourcesContent":["import getPostMetadata from \"@/app/utils/getPostMetadata\";\r\nimport BlogPostCard from \"@/components/blog/BlogPostCard\";\r\n\r\nexport default function BlogPage() {\r\n  const postMetadata = getPostMetadata(\"data/blog_posts\");\r\n\r\n  return (\r\n    <main className=\"blog-post-container\">\r\n      <div className=\"post-grid\">\r\n        {postMetadata.map((post) => (\r\n          <BlogPostCard key={post.slug} post={post} />\r\n        ))}\r\n      </div>\r\n    </main>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAEe,SAAS;IACtB,MAAM,eAAe,IAAA,0IAAe,EAAC;IAErC,qBACE,8OAAC;QAAK,WAAU;kBACd,cAAA,8OAAC;YAAI,WAAU;sBACZ,aAAa,GAAG,CAAC,CAAC,qBACjB,8OAAC,8IAAY;oBAAiB,MAAM;mBAAjB,KAAK,IAAI;;;;;;;;;;;;;;;AAKtC"}}]
}